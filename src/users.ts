const img =
  "https://p3-pc.douyinpic.com/img/aweme-avatar/tos-cn-avt-0015_a86e56c980b7955312b5702a547a4cf0~c5_80x80.jpeg?from=2956013662";

const svg =
  '<svg t="1679133760024" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2821" width="200" height="200"><path d="M199.111111 0h625.777778c109.795556 0 199.111111 89.315556 199.111111 199.111111v625.777778c0 109.795556-89.315556 199.111111-199.111111 199.111111H199.111111c-109.795556 0-199.111111-89.315556-199.111111-199.111111V199.111111C0 89.315556 89.315556 0 199.111111 0z" fill="#306CFF" p-id="2822"></path><path d="M436.337778 561.493333h48.355555v256h-85.333333c-9.102222 0-18.204444 0.568889-27.306667-1.137777-18.773333-3.982222-35.84-15.928889-47.217777-31.288889-9.102222-11.377778-14.222222-25.031111-17.066667-39.253334-2.844444-14.791111-2.275556-30.151111 0-44.373333 4.551111-15.928889 13.084444-31.288889 25.031111-43.235556 10.24-10.24 22.186667-17.635556 35.84-21.617777 5.688889-1.706667 10.808889-2.844444 16.497778-2.844445h50.631111c0.568889-24.462222 0.568889-48.355556 0.568889-72.248889z m-53.475556 116.053334c-9.671111 4.551111-18.773333 11.946667-23.324444 21.617777-3.413333 8.533333-4.551111 18.204444-5.12 27.306667 0 11.377778 3.413333 22.755556 9.671111 31.857778 7.395556 10.808889 20.48 18.204444 34.133333 17.635555h38.684445v-101.831111h-43.235556c-3.982222 0-7.395556 1.706667-10.808889 3.413334z m128-40.96h48.355556v119.466666c0 5.12 1.706667 10.24 5.12 14.222223 3.982222 3.982222 9.671111 6.257778 14.791111 6.257777h51.2V637.155556h48.355555v180.906666H561.493333c-12.515556-1.137778-25.031111-5.688889-34.133333-14.222222-10.808889-9.671111-16.497778-23.893333-15.928889-38.115556-0.568889-43.235556-0.568889-85.902222-0.568889-129.137777z" fill="#306CFF" p-id="2823"></path><path d="M415.288889 138.24c14.791111-2.844444 30.151111 1.137778 42.666667 9.671111 19.342222 13.084444 32.426667 33.564444 39.822222 55.751111 11.377778 34.133333 10.808889 72.248889-2.275556 106.382222-6.257778 16.497778-16.497778 31.857778-29.582222 43.804445C455.111111 362.951111 440.888889 369.777778 426.666667 369.777778c-14.222222 0.568889-28.444444-5.12-39.822223-13.653334-18.204444-14.222222-30.151111-34.702222-36.408888-56.888888-9.671111-32.426667-8.533333-68.266667 2.844444-100.124445 7.395556-18.773333 18.773333-36.977778 35.271111-48.924444 7.395556-6.257778 16.497778-10.24 26.737778-11.946667z m216.746667 17.066667c10.24-2.275556 21.048889 0.568889 30.72 5.12 13.084444 6.257778 24.462222 16.497778 33.564444 28.444444 12.515556 16.497778 21.617778 35.84 24.462222 56.888889 2.275556 14.222222 0 29.013333-3.982222 42.666667-4.551111 16.497778-11.946667 32.995556-22.186667 47.217777-8.533333 12.515556-19.342222 23.893333-32.426666 31.288889-11.946667 7.395556-26.168889 10.808889-40.391111 9.671111-17.066667-1.137778-34.702222-6.826667-47.217778-19.342222-12.515556-11.946667-19.911111-29.013333-23.324445-45.511111-3.413333-18.204444-3.413333-36.408889-1.137777-55.182222 2.275556-15.928889 9.102222-31.288889 17.066666-44.942222 8.533333-14.222222 19.342222-27.875556 32.426667-38.684445 9.102222-8.533333 19.911111-15.36 32.426667-17.635555zM242.346667 310.044444c15.928889-2.844444 32.426667 0.568889 46.08 7.964445 20.48 11.377778 36.408889 30.151111 46.648889 51.2 3.982222 8.533333 7.395556 18.204444 7.964444 27.875555 2.844444 24.462222 2.275556 49.493333-5.12 72.817778-4.551111 15.928889-13.084444 31.288889-25.6 42.097778-15.36 13.653333-36.408889 20.48-56.888889 21.048889-17.066667 0-34.133333-6.257778-47.217778-17.635556-17.066667-14.791111-27.875556-35.84-32.995555-58.026666-3.413333-14.791111-5.12-30.151111-2.844445-45.511111 3.413333-25.031111 10.808889-50.631111 25.6-71.68 10.24-14.791111 26.168889-26.737778 44.373334-30.151112z m506.311111 56.32c18.773333-2.275556 38.684444 0 55.182222 9.671112 15.36 8.533333 27.306667 22.186667 35.84 37.546666 6.826667 13.084444 11.377778 27.306667 12.515556 42.097778 0.568889 21.048889 1.137778 42.097778-3.413334 62.577778-2.844444 14.222222-8.533333 28.444444-17.635555 39.822222-8.533333 10.808889-21.048889 18.773333-34.702223 22.755556-13.653333 3.982222-27.875556 3.982222-41.528888 2.844444-16.497778-1.706667-33.564444-6.257778-46.648889-17.066667-11.377778-9.102222-19.342222-22.186667-23.893334-36.408889-5.688889-18.773333-6.257778-38.684444-6.257777-58.595555 0.568889-20.48 3.413333-41.528889 11.377777-60.302222 6.257778-14.222222 15.928889-27.306667 29.013334-35.271111 9.671111-5.688889 19.911111-8.533333 30.151111-9.671112zM496.64 441.457778c18.773333-2.275556 38.684444 1.137778 55.751111 9.102222 26.737778 12.515556 47.217778 35.271111 63.146667 60.302222 19.911111 28.444444 42.666667 54.613333 66.56 79.075556 22.755556 23.324444 47.217778 45.511111 72.248889 66.56 3.982222 3.413333 8.533333 6.826667 12.515555 10.808889 18.773333 19.342222 30.72 46.08 32.995556 73.386666 2.844444 29.013333-3.982222 58.026667-15.928889 84.195556-8.533333 19.342222-23.893333 35.271111-42.097778 45.511111-25.6 14.222222-55.751111 17.066667-84.195555 16.497778-27.875556-1.137778-55.751111-6.257778-82.488889-14.791111-32.426667-9.102222-66.56-11.377778-99.555556-7.395556-15.36 1.706667-30.72 6.257778-46.08 8.533333-34.702222 5.688889-69.973333 7.395556-105.244444 5.12-29.013333-1.137778-57.457778-15.928889-75.662223-38.684444-11.377778-14.222222-19.342222-30.151111-24.462222-47.786667-5.12-15.928889-7.964444-32.426667-6.826666-49.493333 0.568889-19.911111 6.826667-39.253333 15.928888-56.32 14.222222-26.168889 35.271111-47.217778 58.595556-64.853333 6.826667-5.12 14.222222-9.671111 19.342222-15.928889 10.808889-10.24 22.186667-19.911111 32.995556-30.151111 20.48-19.342222 38.684444-40.391111 54.044444-63.715556 4.551111-6.826667 7.964444-13.653333 13.084445-19.911111 21.048889-26.737778 52.337778-46.08 85.333333-50.062222zM436.337778 561.493333v71.68h-50.631111c-5.688889 0-11.377778 1.137778-16.497778 2.844445-13.653333 3.982222-25.6 11.946667-35.84 21.617778-11.946667 11.946667-20.48 27.306667-25.031111 43.235555-2.275556 14.791111-2.844444 30.151111 0 44.373333s7.964444 27.875556 17.066666 39.253334c11.946667 15.36 28.444444 27.306667 47.217778 31.288889 9.102222 2.275556 18.204444 1.137778 27.306667 1.137777h85.333333v-256c-16.497778 0.568889-32.426667 0.568889-48.924444 0.568889z m74.524444 75.093334v128.568889c-0.568889 14.222222 5.688889 28.444444 15.928889 38.115555 9.102222 8.533333 21.617778 13.084444 34.133333 14.222222h117.191112v-180.906666h-48.355556v139.377777h-51.2c-5.688889 0-11.377778-1.706667-14.791111-6.257777-3.413333-3.982222-5.12-9.102222-5.12-14.222223v-119.466666c-15.36 0.568889-31.288889 0.568889-47.786667 0.568889z" fill="#FFFFFF" p-id="2824"></path><path d="M382.862222 677.546667c3.413333-1.137778 6.826667-3.413333 10.24-2.844445h43.235556v101.831111h-38.684445c-13.084444 0.568889-26.168889-6.257778-34.133333-17.635555-6.257778-9.102222-9.671111-21.048889-9.671111-31.857778 0-9.102222 1.706667-18.773333 5.12-27.306667 5.12-10.808889 14.222222-17.635556 23.893333-22.186666z" fill="#FFFFFF" p-id="2825"></path></svg>';

const bili='<svg t="1708838589060" class="icon" style="width: 1em;height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5170"><path d="M201.14 0h622.053q201.14 0 201.14 201.14v621.72q0 201.14-201.14 201.14H201.14Q0 1024 0 822.86V201.14Q0 0 201.14 0z" fill="#F4518C" p-id="5171"></path><path d="M776.425 240.01H640.563l61.576-61.575c10.612-10.613 10.612-25.544 0-36.156s-25.544-10.613-36.156 0L562.081 246.304H460.154L356.129 142.279c-8.515-10.613-21.225-12.71-33.935-6.294-2.098 0-2.098 2.098-4.319 4.196-10.612 10.612-10.612 25.544 0 36.156l63.674 63.674H245.81c-74.41 0-135.862 61.576-135.862 135.862v337.495c0 72.065 61.453 133.641 135.862 133.641h21.225a44.917 44.917 0 0 0 44.547 44.67c23.322 0 44.547-21.347 44.547-44.67h314.173c2.098 25.544 23.322 44.67 48.866 42.45 23.322-2.098 40.228-19.127 42.45-42.45h16.905c74.286 0 135.862-61.576 135.862-135.862V373.651c-2.098-74.286-63.674-133.64-137.96-133.64zM772.23 764.21H254.201c-27.517 0-48.742-23.323-50.84-50.84l-2.221-343.913c0-27.641 23.446-50.964 50.964-50.964h517.904c27.642 0 48.866 23.323 50.964 50.964l2.098 343.912c-2.098 29.616-23.323 50.84-50.84 50.84z" fill="#FFFFFF" opacity=".15" p-id="5172"></path><path d="M421.9 435.227l12.71 63.674-169.796 31.837-12.71-63.674z m163.504 63.674l12.71-63.674 169.797 31.837-12.71 63.674z m33.934 133.764c0 2.098 0 6.417-2.097 8.515-10.613 23.322-33.935 38.13-61.576 40.351-17.03 0-33.935-8.514-44.547-21.348-12.71 12.834-27.642 21.348-44.67 21.348a77.741 77.741 0 0 1-61.453-40.351c0-2.221-2.221-4.319-2.221-8.515 0-8.514 6.416-14.93 14.93-17.029h2.099c6.416 0 10.612 2.222 12.71 8.515 0 0 17.029 23.322 31.837 23.322 29.739 0 29.739-25.42 46.768-44.547 19.003 21.225 19.003 44.547 46.644 44.547 19.127 0 31.837-23.322 31.837-23.322 2.098-4.196 8.515-8.515 12.71-8.515 8.515-2.097 14.932 4.32 17.03 12.71v4.32z" fill="#FFFFFF" opacity=".15" p-id="5173"></path><path d="M759.766 603.05c-5.923-5.923-13.82-9.872-19.744-13.82-19.867-9.996-41.585-17.894-63.427-21.842s-45.41-7.898-69.226-5.924c-3.949 0-5.923 0-9.872 1.975-9.872-83.048-13.82-164.244-9.872-247.415-25.79 8.021-47.509 19.867-71.325 27.765 23.816 120.684 37.637 241.491 47.509 364.15h7.897c17.893 0 33.688 0 51.458-3.949 21.841-1.974 43.56-7.898 65.401-13.944 21.718-7.898 41.462-15.795 57.38-31.59 9.872-7.898 17.77-15.795 19.744-27.765 5.923-9.872 3.95-19.744-5.923-27.641z m-120.684 67.252c-3.949-23.692-5.923-45.534-9.872-67.252 23.693 5.923 45.411 15.795 67.253 23.692-17.893 15.919-37.637 29.74-57.38 43.56z m-324.539-69.227a139.07 139.07 0 0 0-21.841-13.82c-19.744-9.996-41.586-15.919-63.304-19.867s-43.56-5.924-65.278-3.95c-3.948 0-5.923 0-9.872 1.975-9.995-83.047-15.918-166.218-11.97-249.389-23.692 6.047-47.508 19.867-69.226 27.765 23.816 120.684 37.637 241.491 47.509 364.15h7.897a395.493 395.493 0 0 0 96.992-11.847 207.804 207.804 0 0 0 73.175-33.687c9.995-7.898 19.867-17.77 23.816-29.74 5.923-11.846 1.974-21.718-7.898-31.59z m-120.807 69.227c-3.949-23.692-5.923-45.534-9.872-67.252 7.898 0 59.355 19.744 65.278 23.692-15.795 15.919-35.539 29.74-55.406 43.56z m243.466-75.15c-1.975-17.893-1.975-33.688-3.949-51.457-1.974-19.867-3.949-41.585-3.949-61.33-1.974-17.892-1.974-37.636-3.948-55.405-1.975-19.867-1.975-39.611-3.95-59.478 0-5.924 0-5.924-5.922-5.924h-2.098c-7.898 0-15.795 0-21.718 1.975-5.923 0-11.847 1.974-17.77 1.974 17.77 98.966 27.642 199.906 37.513 300.846 11.97 0 23.816 1.975 35.663 1.975v-7.898c-7.898-23.816-9.872-43.56-9.872-65.278z m445.223 15.795c-1.975-19.744-3.95-37.636-3.95-57.38-1.974-19.744-3.948-41.586-5.922-61.33s-1.975-37.636-3.95-57.38c-1.973-23.816-3.948-45.534-3.948-69.35 0-5.923 0-5.923-5.923-5.923h-17.893c-7.897 0-15.795 1.974-25.667 3.949 17.77 98.966 27.765 199.906 37.637 300.846 11.846 0 23.692 1.974 35.539 1.974v-1.974z m-61.33-41.585c-1.974-15.795-3.948-33.565-7.897-49.483 0-3.949-1.974-3.949-3.949-3.949h-19.744c-8.02 1.975-15.918 1.975-25.79 3.949 9.872 53.432 21.718 106.863 31.713 160.295 11.847-1.974 23.693-1.974 35.54-3.949-1.975-13.82-1.975-25.667-3.95-37.513-1.974-21.842-3.948-45.534-5.923-69.35z m-445.222 0c-1.975-15.795-3.95-31.59-5.923-49.483 0-3.949-1.975-3.949-5.924-3.949-9.995 0-19.867 1.975-27.764 1.975-5.923 0-9.872 1.974-15.795 3.948 9.872 53.432 21.718 106.864 31.59 160.295 11.97-1.974 23.816-1.974 35.662-3.948v-1.975c-1.974-13.82-1.974-29.615-3.949-43.56-3.949-21.718-5.923-43.436-7.897-63.303z m126.607-41.585c0-5.924 0-5.924-5.923-5.924-13.821-1.974-27.642 0-43.56 0 5.923 55.406 9.872 108.838 15.918 162.27h35.54V678.2c0-49.483 0-98.966-1.975-150.423z m447.32 96.991c0-31.59-2.097-63.304-2.097-96.991 0-5.924 0-5.924-5.924-5.924-13.82-1.974-29.615 0-43.436 0 5.923 55.406 9.872 108.838 15.795 162.27H949.8v-3.949a259.631 259.631 0 0 0 0-55.406zM336.262 456.575c1.974 11.847 3.948 25.79 3.948 37.637l1.975 1.974c5.923 0 13.82 0 19.867-1.974 0-7.897-2.098-13.82-2.098-19.867-1.974-13.82-1.974-25.667-3.949-39.488l-1.974-1.974c-5.923-1.974-13.82-1.974-21.718 0v3.949c3.949 7.897 3.949 13.82 3.949 19.743z m453.243 39.611c5.923 0 13.821 0 19.744-1.974 0-7.897-1.974-13.82-1.974-21.842-1.975-11.846-1.975-25.666-3.949-37.513a1.974 1.974 0 0 0-1.974-1.974 40.968 40.968 0 0 0-21.842 0v1.974c1.974 19.744 3.949 39.488 7.898 59.355 0 1.974 2.097 1.974 2.097 1.974z m-308.743 1.975c0 1.974 0 1.974 1.974 1.974h19.744V444.73c0-3.949 0-3.949-3.949-5.923-5.923 0-11.846 0-17.77-1.974z m447.197 3.949h19.744v-59.355l-1.975-1.975c-7.897 0-13.82-1.974-21.718-1.974v1.974c0 19.744 0 39.611 1.974 59.355a1.974 1.974 0 0 0 1.975 1.975z m-595.646-3.95c1.974 0 1.974-1.974 1.974-3.948 0-5.923 0-11.846-1.974-15.795-1.974-11.97-3.949-25.79-5.923-37.637 0-1.974 0-3.948-3.949-1.974-5.923 0-11.846 1.974-17.893 1.974 4.072 19.744 8.021 41.586 11.97 61.33 5.923-1.975 9.872-3.95 15.795-3.95z m443.248 0a4.196 4.196 0 0 0 3.949-3.948c-1.974-11.846-1.974-21.842-3.949-33.688 0-5.923-1.974-13.82-3.949-19.744 0-1.974 0-3.948-1.974-3.948-5.923 0-11.846 1.974-19.744 1.974 3.95 19.744 7.898 41.585 11.847 61.33 3.948 0 9.871 0 13.82-1.975z m140.551 3.95l1.975-1.975V444.73c-1.975-1.974-1.975-3.949-3.949-3.949-5.923 0-13.82 0-19.867 1.975 2.098 19.744 2.098 41.585 4.072 61.329 5.923-1.974 11.846-1.974 17.77-1.974z m-445.222 0l1.974-1.975V444.73l-1.974-1.974c-6.047 0-13.944 0-19.868 1.974 1.975 19.744 1.975 41.586 3.95 61.33 5.922-3.95 9.871-3.95 15.918-3.95z" fill="#FFFFFF" p-id="5174" data-spm-anchor-id="a313x.search_index.0.i0.1f423a81o0LSLS"></path></svg>'

interface User {
  /**
   * 名称
   */
  name: string;
  /**
   * 图标-模板字面量类型
   */
  icon: `http${string}` | `<svg${string}` | "";
  /**
   * 访问链接
   */
  url: string;
  /**
   * 用户id
   */
  id: string;
  /**
   * 群组分类-模板字面量类型
   */
  group?: `group_${number}`;
  /**
   * 分类
   */
  status?: string[];
  /**
   * 父类id-模板字面量类型
   */
  parentId?: `parent_${number}`;
}
interface Group extends User {
  /**
   * 子用户
   */
  children?: User[];
}

export const userGroup: User[] = [
  {
    name: "九转灵山",
    icon: "https://avatars.githubusercontent.com/u/105529957",
    url: "https://vueuse.org/",
    id: "001",
    group: "group_10001",
    status: ["5.0⭐", "程序", "游戏", "动漫"],
  },
  {
    name: "github",
    id: "100001",
    url: "",
    icon: "https://api.iconify.design/skill-icons:github-dark.svg",
    parentId: "parent_001",
  },
  {
    name: "bilibili",
    id: "100002",
    url: "https://www.bilibili.com/",
    icon: bili,
    parentId: "parent_001",
  },
  {
    name: "抖音",
    id: "100003",
    url: "",
    icon: svg,
    parentId: "parent_001",
  },
  {
    name: "代码工具",
    icon: "https://avatars.githubusercontent.com/u/80154025?s=200&v=4",
    url: "https://github.com/unjs",
    id: "002",
    group: "group_10002",
  },
  {
    name: "vscode",
    icon: "https://api.iconify.design/skill-icons:vscode-light.svg",
    url: "",
    id: "100004",
    parentId: "parent_002",
  },
  {
    name:'快查',
    icon:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" height="1em" width="1em">   <path d="m21.66 10.44-.98 4.18c-.84 3.61-2.5 5.07-5.62 4.77-.5-.04-1.04-.13-1.62-.27l-1.68-.4c-4.17-.99-5.46-3.05-4.48-7.23l.98-4.19c.2-.85.44-1.59.74-2.2 1.17-2.42 3.16-3.07 6.5-2.28l1.67.39c4.19.98 5.47 3.05 4.49 7.23Z" fill="#c9d1d9"></path>   <path d="M15.06 19.39c-.62.42-1.4.77-2.35 1.08l-1.58.52c-3.97 1.28-6.06.21-7.35-3.76L2.5 13.28c-1.28-3.97-.22-6.07 3.75-7.35l1.58-.52c.41-.13.8-.24 1.17-.31-.3.61-.54 1.35-.74 2.2l-.98 4.19c-.98 4.18.31 6.24 4.48 7.23l1.68.4c.58.14 1.12.23 1.62.27Zm2.43-8.88c-.06 0-.12-.01-.19-.02l-4.85-1.23a.75.75 0 0 1 .37-1.45l4.85 1.23a.748.748 0 0 1-.18 1.47Z" fill="#228e6c"></path>   <path d="M14.56 13.89c-.06 0-.12-.01-.19-.02l-2.91-.74a.75.75 0 0 1 .37-1.45l2.91.74c.4.1.64.51.54.91-.08.34-.38.56-.72.56Z" fill="#228e6c"></path> </svg>',
    url:'https://ref.eryajf.net/index.html',
    id:'003',
    group:'group_10003',
    status:['3.5⭐','程序']
  },
  {
    name: "ts",
    id: "100004",
    url: "https://ref.eryajf.net/docs/typescript.html",
    icon: "https://api.iconify.design/logos:typescript-icon.svg",
    parentId: "parent_003",
  },
  {
    name: "vue3",
    id: "100005",
    url: "https://ref.eryajf.net/docs/vue.html",
    icon: "https://api.iconify.design/skill-icons:vuejs-light.svg",
    parentId: "parent_003",
  }
];

/**
 * 获取用户分组
 */
export function useUserGroup(userList: User[]) {
  // 根用户
  const rootUsers = userList.filter((item) => !item.parentId);
  // 根子用户
  const rootChildren = userList.filter((item) => item.parentId);
  const group = rootUsers.map((rootUser) => {
    let item: Group = {
      ...rootUser,
      children: rootChildren.filter((child) =>
        child.parentId?.endsWith(rootUser.id)
      ),
    };
    return item;
  });
  const groupList = group.reduce((prev, curr) => {
    if (prev[curr.group!] === undefined) {
      prev[curr.group!] = [];
    }
    prev[curr.group!].push(curr);
    return prev;
  }, {} as Record<string, Group[]>);
  return groupList;
}
